(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{147:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return b}));var a=n(0),i=n(270),r=n(269),c=n(148),s=n.n(c),o=n(52),u=n(78),l=n.n(u),j=n(8),d=Object(i.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},button:{margin:e.spacing(1)}}}));function b(){var t,n=Object(a.useContext)(o.a),i=(n.userBackup,n.setUserBackup),c=Object(a.useContext)(o.a),u=(c.rows,c.setRows),b=Object(a.useContext)(o.a),p=b.currentList,O=(b.setCurrentList,d()),x=function(n){var a=new Uint8Array(t.result),r=e(a,"binary");l.a.parseBuffer(r,(function(e,t){if(!e){for(var n in t[0])"history"!==n&&"subscriptions"!==n||t[0][n].forEach((function(e,t){e.id=t}));i(t),u(t[0][p])}}))};return Object(j.jsxs)("div",{className:O.root,children:[Object(j.jsx)("input",{accept:".naconfig",className:O.input,id:"contained-button-file",type:"file",onChange:function(e){return n=e.target.files[0],(t=new FileReader).onloadend=x,void(t&&n instanceof Blob&&t.readAsArrayBuffer(n));var n}}),Object(j.jsx)("label",{htmlFor:"contained-button-file",children:Object(j.jsx)(r.a,{variant:"contained",color:"primary",component:"span",startIcon:Object(j.jsx)(s.a,{}),children:"Upload"})})]})}}).call(this,n(37).Buffer)},167:function(e,t,n){},168:function(e,t,n){},181:function(e,t){},183:function(e,t){},266:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(13),c=n.n(r),s=(n(167),n(168),n(52)),o=n(8);var u=function(){return Object(o.jsx)("div",{className:"App",children:Object(o.jsx)(s.b,{})})},l=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,327)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),i(e),r(e),c(e)}))};c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(u,{})}),document.getElementById("root")),l()},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return Y})),n.d(t,"b",(function(){return $}));var a=n(33),i=n(72),r=n(27),c=n(0),s=n.n(c),o=n(4),u=n(270),l=n(320),j=n(325),d=n(321),b=n(319),p=n(317),O=n(82),x=n(322),f=n(318),h=n(323),m=n(151),g=n.n(m),v=n(77),w=n.n(v),C=n(311),k=n(314),B=n(315),y=n(140),S=n.n(y),N=n(141),L=n.n(N),R=n(8);function I(){var e=Object(c.useContext)(Y),t=e.userBackup,n=(e.setUserBackup,Object(c.useContext)(Y)),a=(n.rows,n.setRows),i=Object(c.useContext)(Y),r=(i.currentList,i.setCurrentList),s=function(e){r(e),t[0]&&a(t[0][e])};return Object(R.jsxs)("div",{children:[Object(R.jsxs)(C.a,{button:!0,onClick:function(){return s("history")},children:[Object(R.jsx)(k.a,{children:Object(R.jsx)(S.a,{})}),Object(R.jsx)(B.a,{primary:"History"})]}),Object(R.jsxs)(C.a,{button:!0,onClick:function(){return s("subscriptions")},children:[Object(R.jsx)(k.a,{children:Object(R.jsx)(L.a,{})}),Object(R.jsx)(B.a,{primary:"Subscriptions"})]})]})}var U=n(81),P=n(152),A=n(268),E=n(9),F=n(29),D=function(e){return e.id},T=function(e){var t=e.onClick,n=Object(P.a)(e,["onClick"]);return Object(R.jsx)(F.d.Cell,Object(r.a)(Object(r.a)({},n),{},{tabIndex:0,onFocus:t}))};function z(){var e=Object(c.useContext)(Y),t=e.userBackup,n=e.setUserBackup,i=Object(c.useContext)(Y),s=i.currentList,o=(i.setCurrentList,Object(c.useContext)(Y)),u=o.rows,l=o.setRows,j=Object(c.useState)([{name:"title",title:"Title"},{name:"source",title:"Source"},{name:"image",title:"Image",getCellValue:function(e){return e.image?e.image.relative:void 0}},{name:"link",title:"Link",getCellValue:function(e){return e.link?e.link.relative:void 0}}]),d=Object(a.a)(j,1)[0],b=Object(c.useState)([25,50,100,0]),p=Object(a.a)(b,1)[0],O=Object(c.useState)([{columnName:"title",width:200},{columnName:"source",width:150},{columnName:"image",width:350},{columnName:"link",width:350}]),x=Object(a.a)(O,1)[0],f=Object(c.useState)([{columnName:"image",createRowChange:function(e,t){return{image:Object(r.a)(Object(r.a)({},e.image),{},{relative:t})}}},{columnName:"link",createRowChange:function(e,t){return{link:Object(r.a)(Object(r.a)({},e.link),{},{relative:t})}}}]),h=Object(a.a)(f,1)[0],m=function(e){var a,i=e.added,c=e.changed,o=e.deleted;if(i){var j=u.length>0?u[u.length-1].id+1:0;a=[].concat(Object(U.a)(u),Object(U.a)(i.map((function(e,t){return Object(r.a)({id:j+t},e)}))))}if(c&&(a=u.map((function(e){return c[e.id]?Object(r.a)(Object(r.a)({},e),c[e.id]):e}))),o){var d=new Set(o);a=u.filter((function(e){return!d.has(e.id)}))}if(l(a),t.length){var b=Object(U.a)(t);b[0][s]=a,n(b)}};return Object(R.jsx)(A.a,{children:Object(R.jsxs)(F.a,{rows:u,columns:d,getRowId:D,children:[Object(R.jsx)(E.n,{defaultValue:""}),Object(R.jsx)(E.h,{}),Object(R.jsx)(E.c,{columnExtensions:h,onCommitChanges:m,addedRows:[],onAddedRowsChange:function(){return m({added:[{}]})}}),Object(R.jsx)(E.o,{defaultSorting:[{columnName:"title",direction:"asc"}]}),Object(R.jsx)(E.j,{}),Object(R.jsx)(E.l,{defaultCurrentPage:0,defaultPageSize:25}),Object(R.jsx)(E.i,{}),Object(R.jsx)(F.d,{cellComponent:T}),Object(R.jsx)(F.e,{defaultColumnWidths:x}),Object(R.jsx)(F.g,{showSortingControls:!0}),Object(R.jsx)(F.b,{pageSizes:p}),Object(R.jsx)(F.h,{selectTextOnEditStart:!0}),Object(R.jsx)(F.f,{showAddCommand:!0,showDeleteCommand:!0}),Object(R.jsx)(F.i,{}),Object(R.jsx)(F.c,{})]})})}var V=n(147),H=n(269),W=n(150),G=n.n(W),J=n(149),M=n.n(J),X=n(78),q=n.n(X),K=Object(u.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},input:{display:"none"},button:{margin:e.spacing(1)}}}));function Q(){var e=Object(c.useContext)(Y),t=e.userBackup,n=(e.setUserBackup,K()),a=function(e,t,n){var a=new Blob([e],{type:n}),i=window.URL.createObjectURL(a);!function(e,t){var n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.style.display="none",n.click(),n.remove()}(i,t),setTimeout((function(){return window.URL.revokeObjectURL(i)}),1e3)};return Object(R.jsx)("div",{className:n.root,children:Object(R.jsx)("label",{children:Object(R.jsx)(H.a,{variant:"contained",color:"primary",component:"span",startIcon:Object(R.jsx)(G.a,{}),onClick:function(){return function(){if(t[0]){var e=M()(t);for(var n in e[0].exportedDate=new Date,e[0])"history"!==n&&"subscriptions"!==n||e[0][n].forEach((function(e){delete e.id}));var i=q.a.create(e);a(i,"".concat(String(e[0].exportedDate),".naconfig"),"application/octet-stream")}else alert("Import a file first")}()},children:"Export"})})})}var Y=s.a.createContext(null),Z=Object(u.a)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(r.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(i.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}}));function $(){var e=Z(),t=Object(c.useState)(!0),n=Object(a.a)(t,2),i=n[0],r=n[1],s=Object(c.useState)([]),u=Object(a.a)(s,2),m=u[0],v=u[1],C=Object(c.useState)([]),k=Object(a.a)(C,2),B=k[0],y=k[1],S=Object(c.useState)("history"),N=Object(a.a)(S,2),L=N[0],U=N[1];return Object(R.jsxs)("div",{className:e.root,children:[Object(R.jsx)(l.a,{}),Object(R.jsx)(d.a,{position:"absolute",className:Object(o.a)(e.appBar,i&&e.appBarShift),style:{backgroundColor:"#673ab7"},children:Object(R.jsxs)(b.a,{className:e.toolbar,children:[Object(R.jsx)(f.a,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){r(!0)},className:Object(o.a)(e.menuButton,i&&e.menuButtonHidden),children:Object(R.jsx)(g.a,{})}),Object(R.jsx)(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title,children:"NineAnimator Backup Viewer"}),Object(R.jsxs)(Y.Provider,{value:{userBackup:m,setUserBackup:v,currentList:L,setCurrentList:U,rows:B,setRows:y},children:[Object(R.jsx)(f.a,{color:"inherit",children:Object(R.jsx)(Q,{})}),Object(R.jsx)(f.a,{color:"inherit",children:Object(R.jsx)(V.a,{})})]})]})}),Object(R.jsxs)(j.a,{variant:"permanent",classes:{paper:Object(o.a)(e.drawerPaper,!i&&e.drawerPaperClose)},open:i,children:[Object(R.jsx)("div",{className:e.toolbarIcon,children:Object(R.jsx)(f.a,{onClick:function(){r(!1)},children:Object(R.jsx)(w.a,{})})}),Object(R.jsx)(x.a,{}),Object(R.jsx)(p.a,{children:Object(R.jsx)(Y.Provider,{value:{userBackup:m,setUserBackup:v,currentList:L,setCurrentList:U,rows:B,setRows:y},children:Object(R.jsx)(I,{})})}),Object(R.jsx)(x.a,{})]}),Object(R.jsxs)("main",{className:e.content,children:[Object(R.jsx)("div",{className:e.appBarSpacer}),Object(R.jsx)(h.a,{maxWidth:"lg",className:e.container,children:Object(R.jsx)(Y.Provider,{value:{userBackup:m,setUserBackup:v,currentList:L,setCurrentList:U,rows:B,setRows:y},children:Object(R.jsx)(z,{})})})]})]})}}},[[266,1,2]]]);
//# sourceMappingURL=main.5ab3e8e5.chunk.js.map